{
    "rules": {
        "text-posts": {
            "num-posts": {
                ".read": "auth != null",
                ".write": "auth != null"
            },
            "posts": {
                ".read": "auth != null",
                ".indexOn": "datetime",
                "$id": {
                    ".write": "auth !== null && (!data.exists() || data.child('poster-uid').val() === auth.uid)"
                }
            }
        },
        "user-profiles": {
            "$id": {
                ".read": "auth !== null",
                ".write": "auth !== null && (!data.exists() || data.child('uid').val() === auth.uid)"
            }
        },
        "friend-lists": {
            "$userID": {
                ".indexOn": "last-interacted",
                ".read": "auth !== null && auth.uid === $userID",
                "$friendID": {
                    ".read": "auth !== null && (auth.uid === $userID || auth.uid === $friendID)",
                    ".write": "auth !== null && (!data.exists() || (auth.uid === $userID || auth.uid === $friendID))"
                }
            }
        }
    }
}
